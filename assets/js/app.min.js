$(document).ready(function(){function Da(){$(".preload").stop().velocity({opacity:"0"},{duration:800,complete:function(){$(this).hide()}});$("body").removeClass("preload-body")}function B(a){var b=a.children().length,b=40*b+"px";a.is(":visible")?a.stop().animate({height:"0px"},200,function(){$(this).hide()}):a.show().stop().animate({height:b},200)}function F(){var a=$(".CodeMirror").css("font-family"),b=$(".CodeMirror").css("font-size"),c=$(".selector-library").clone().children().remove().end().text();
p={theme:m.theme,font:a,fontSize:b,tabSize:m.tabSize,softWrap:m.lineWrapping,library:c};chrome.storage.local.set({settings:p})}function A(){for(var a=0;a<f.length;a++)f[a].refresh()}function G(a,b){var c=a.split(","),d=0>b?0:255,e=0>b?-1*b:b,g=parseInt(c[0].slice(4)),t=parseInt(c[1]),c=parseInt(c[2]);return"rgb("+(Math.round((d-g)*e)+g)+","+(Math.round((d-t)*e)+t)+","+(Math.round((d-c)*e)+c)+")"}function Ea(a){$(".sidebar").css("background-color",G(a,-.2));$(".workspace, body").css("background-color",
a);$(".add-newproject").css("background-color",G($(".active").css("box-shadow").replace(/^.*(rgba?\([^)]+\)).*$/,"$1"),-.4));$(".windowBar").css("background-color",G(a,.1));$(".settings-container").css("background-color",G(a,-.1))}function H(a){$(".CodeMirror").css("font-family",a.font);$(".CodeMirror").css("font-size",a.fontSize);I("theme",a.theme);I("tabSize",a.tabSize);I("lineWrapping",a.softWrap);$(".active").attr("class","tab active active-"+a.theme);var b=$(".CodeMirror").css("background-color");
Ea(b);m.theme=a.theme;m.tabSize=a.tabSize;m.indentUnit=a.tabSize;m.lineWrapping=a.softWrap;Fa(b);A()}function Ga(a){$(".selector-theme").html(a.theme.replace(/-/g," ")+'<div class="material-icons">arrow_drop_down</div>');$(".selector-font").html(a.font.replace(/"/g,"").toLowerCase()+'<div class="material-icons">arrow_drop_down</div>');$(".selector-font-size").html(a.fontSize+'<div class="material-icons">arrow_drop_down</div>');$(".selector-tab-size").html(a.tabSize+'<div class="material-icons">arrow_drop_down</div>');
!0===a.softWrap?$(".selector-wrap").html('wrap<div class="material-icons">arrow_drop_down</div>'):$(".selector-wrap").html('none<div class="material-icons">arrow_drop_down</div>');void 0===a.library&&(a.library="jquery.min.js");$(".selector-library").html(a.library+'<div class="material-icons">arrow_drop_down</div>')}function Va(){chrome.storage.local.get({settings:"prefs"},function(a){a=a.settings;"prefs"==a||void 0===a||null===a?(p={theme:"material",font:"monospace",fontSize:"14px",tabSize:4,softWrap:!0,
library:"jquery.min.js"},H(p),Ga(p)):(p=a,H(a),Ga(a))})}function I(a,b){for(var c=0;c<f.length;c++)f[c].setOption(a,b)}function J(a,b){a.html(b+'<div class="material-icons">arrow_drop_down</div>')}function Fa(a){$(".tabs, .overflow-menu").css("background-color",a)}function C(a,b){$.get(a,function(a){var c;c="folder_open"==h.find(".material-icons").first().text()?h:h.parent().parent();var e=c.clone().children().remove().end().text(),g=c.attr("path"),t=k.find(function(a){if(a.entry.name==e&&a.entry.fullPath==
g)return a}),t=t.entry;t.getFile(b,{create:!0,exclusive:!0},function(b){b.createWriter(function(c){var b=new Blob([a]);c.write(b)});n.push({entry:b});var d=b.name,d=y(d),d=d.replace(/\./g,""),e=document.createElement("div");e.className=d+" file";e.setAttribute("path",b.fullPath);e.innerHTML='<div class="material-icons">insert_drive_file</div>'+b.name;c.children().last().append(e);F()})})}function Ha(){$(".dropdown").hide();$(".settings-container").show().stop().animate({top:"50%",opacity:"1"},200);
$(".bg").show().stop().animate({opacity:"0.6"},200);$(".settingdiv span").hide()}function fa(){$(".settings-container").stop().animate({top:"60%",opacity:"0"},200,function(){$(this).hide()});$(".bg").stop().animate({opacity:"0"},200,function(){$(this).hide()})}function U(a){f[a].on("change",function(){$(".active .close").text("fiber_manual_record");$(".active .close").addClass("edit")})}function V(){var a;if(0===$(".tab").length)a=0;else{ga=[];for(a=0;a<$(".tab").length;a++){var b=$(".tab").eq(a).attr("id").replace("tab",
"");ga.push(Number(b))}a=Math.max.apply(null,ga)+1}$(".tab").removeClass("active");$(".tab").removeClass("active-"+m.theme);$(".tabs").append('<div id="tab'+a+'"class="tab active active-'+m.theme+'"><input class="title"/><span class="close material-icons">close</span></div>');W("untitled.txt");$(".workspace").append('<textarea id="textarea'+a+'"></textarea>');$(".active").attr("id","tab"+a);$(".CodeMirror").hide();K();$("#textarea"+a).show();X("");w[a]=""}function ha(a){k.push({entry:a});Ia(k.length-
1);Ja(a);f[$(".active").index()].focus()}function Ka(){V();var a=$(".active").index();f[a]=CodeMirror.fromTextArea(document.getElementById("textarea"+a),m);W("untitled.txt");w[a]="";setTimeout(function(){$(".active").click();U(a)})}function R(){$(".dialogue").stop().animate({top:"60%",opacity:"0"},200,function(){$(this).hide()});$(".bg").stop().animate({opacity:"0"},200,function(){$(this).hide()})}function Y(a){var b=a.parent(),c=b.attr("id").replace("tab","textarea"),d=b.attr("class"),e=b.index(),
g=$(".tabs").children().last().index(),t=$(".tab").length;$("#"+c).remove();$(".CodeMirror:eq("+b.index()+")").remove();f.splice(e,1);w.splice(e,1);a.parent().remove();void 0===p&&(p={theme:"material",font:"monospace",fontSize:"14px",tabSize:4,softWrap:!0,library:"jquery.min.js"});0===e&&1==t?(Ka(),H(p)):-1==d.indexOf("active")?$(".active").click():0===e?$(".tab").eq(0).click():e==g?$(".tab").eq(e-1).click():$(".tab").eq(e).click();K();R()}function Wa(){""==window.getSelection()?$(".search-bar").select():
$(".search-bar").val(window.getSelection());chrome.app.window.current().isFullscreen()?$(".workspace").css("height","calc(100% - 150px)"):$(".workspace").css("height","calc(100% - 180px)");$(".search-container").show().stop().animate({opacity:"1",bottom:"0px"},200);A();setTimeout(function(){$(".search-bar").focus()},200)}function La(){$(".workspace").css("height","calc(100% - 80px)");$(".search-container").show().stop().animate({opacity:"0",bottom:"-100px"},200,function(){$(this).hide();l=f[$(".active").index()];
clearSearch(l);f[$(".active").index()].focus()})}function S(){$(".menu").stop().animate({opacity:"0",height:"0px"},200,function(){$(this).hide()})}function T(a,b){a.forEach(function(a){a.file(function(c){var d=new FileReader;d.onload=function(c){c=c.target.result;V();W(a.name);if(!1===b)X(a.name);else{X(a.name+"isOpen");var d=a.fullPath;$(".active").attr("path",d)}var d=$(".active").attr("id").replace("tab",""),d=Number(d),e=$(".active").index();w[e]=a;f[e]=CodeMirror.fromTextArea(document.getElementById("textarea"+
d),m);f[e].getDoc().setValue(c);f[e].getDoc().clearHistory();f[e].focus();U(e);Z();void 0===p&&(p={theme:"material",font:"monospace",fontSize:"14px",tabSize:4,softWrap:!0,library:"jquery.min.js"});H(p)};d.readAsText(c)})})}function ia(){$(".new-project-dialogue").stop().animate({top:"60%",opacity:"0"},200,function(){$(this).hide()});$(".bg").stop().animate({opacity:"0"},200,function(){$(this).hide()})}function ja(a){a.fullPath?($(".chosenDir").text(a.fullPath),L=a):($(".chosenDir").text("No Directory Chosen"),
L=null)}function ka(){$(".projects div").each(function(){$(this).hasClass("file")&&$(this).insertAfter($(this).parent().children().last())})}function y(a){return a.replace(/\./g,"").replace(/ /g,"_").replace(/["'()]/g,"_")}function aa(a,b,c){a=a.split(b);return 0===c?a:a[a.length-c]}function Ia(a){var b=k[a].entry.name,c=k[a].entry.fullPath,c=aa(c,"/",0);c.forEach(function(a,b,d){c[b]=y(a)});var b=y(b),d=document.createElement("div");d.className=b+" folder";d.setAttribute("path",k[a].entry.fullPath);
var e;e=2==k[a].entry.fullPath.split("/").length?!0:!1;d.innerHTML=(e?'<div class="material-icons">book</div>':'<div class="material-icons">folder</div>')+k[a].entry.name+'<ul style="display:none;" class="'+b+'ul"></ul>';c.shift();c.forEach(function(a,b,d){c[b]=a+" ."+a+"ul"});c="."+c.join(" .");null===u.querySelector(c)&&(c=c.split(" "),c.forEach(function(a,c,b){""!==a&&(a=b.slice(),a.splice(c+1,b.length-(c+1)),a=a.join(" "),null===u.querySelector(a)&&(0===c?u.appendChild(d):(b.splice(c,b.length-
c),b=b.join(" "),u.querySelector(b).appendChild(d))))}))}function Xa(a){var b=n[a].entry.name,c=n[a].entry.fullPath,c=aa(c,"/",0);c.forEach(function(a,b,d){c[b]=a.replace(/ /g,"_").replace(/\./g,"").replace(/["'()]/g,"_")});var b=y(b),d=document.createElement("div"),e=la(n[a].entry.name,!0);d.className=b+" file";d.setAttribute("path",n[a].entry.fullPath);d.innerHTML=e+n[a].entry.name;c.shift();c.forEach(function(a,b,d){c[b]=b===d.length-1?a:a+" ."+a+"ul"});c="."+c.join(" .");null===u.querySelector(c)&&
(c=c.split(" "),c.forEach(function(a,b,c){a=c.slice();a.splice(b+1,c.length-(b+1));a=a.join(" ");null===u.querySelector(a)&&(c.splice(b,c.length-b),c=c.join(" "),u.querySelector(c).appendChild(d))}))}function Ma(a,b,c){$(".loading-text").text("Loading "+a);$(".preload").css("top","100%");$(".preload").show().stop().animate({top:"0",opacity:"1"},500);b&&b(c)}function Na(){$(".preload").stop().animate({opacity:"0",top:"100%"},600,function(){$(this).hide()})}function Ja(a){var b=a.createReader();(function(){b.readEntries(function(a){for(var b=
0;b<a.length;b++){var c=a[b];c.isDirectory?(k.push({entry:c}),Ia(k.length-1),Ja(c)):(n.push({entry:c}),Xa(n.length-1))}})})()}function Ya(a){u.innerHTML="";ha(a);setTimeout(function(){$(".projects").append(u.children);ka();Na()},1E3)}function D(){$(".contextmenu").stop().animate({opacity:"0"},200,function(){$(this).hide()})}function Za(a){var b=a.pageY;a=a.pageX;var c=$(".folder-contextmenu").height();b+c>$(window).height()&&(b-=c);$(".folder-contextmenu").show().css({top:b+"px",left:a-20+"px",backgroundColor:G($(".sidebar").css("background-color"),
-.2)}).stop().animate({opacity:"1"},200)}function ba(){$(".folder-contextmenu").stop().animate({opacity:"0"},200,function(){$(this).hide()})}function ma(){$(".remove-dialogue").stop().animate({top:"60%",opacity:"0"},200,function(){$(this).hide()});$(".bg").stop().animate({opacity:"0"},200,function(){$(this).hide()})}function na(){$(".folder-remove-dialogue").stop().animate({top:"60%",opacity:"0"},200,function(){$(this).hide()});$(".bg").stop().animate({opacity:"0"},200,function(){$(this).hide()})}
function oa(){$(".new-file-dialogue").stop().animate({top:"60%",opacity:"0"},200,function(){$(this).hide()});$(".bg").stop().animate({opacity:"0"},200,function(){$(this).hide()})}function pa(){$(".new-folder-dialogue").stop().animate({top:"60%",opacity:"0"},200,function(){$(this).hide()});$(".bg").stop().animate({opacity:"0"},200,function(){$(this).hide()})}function qa(){$(".rename-file-dialogue").stop().animate({top:"60%",opacity:"0"},200,function(){$(this).hide()});$(".bg").stop().animate({opacity:"0"},
200,function(){$(this).hide()})}function ra(){$(".rename-folder-dialogue").stop().animate({top:"60%",opacity:"0"},200,function(){$(this).hide()});$(".bg").stop().animate({opacity:"0"},200,function(){$(this).hide()})}function ca(a,b){$(a).css("box-shadow","0px 1px 0px 0px #47bfa1");$(a).val(b);""!=b?$(a).select():$(a).focus()}function la(a,b){var c=".png .jpg .jpeg .tiff .giff .exiff".split(" "),d=".wav .mp3 .aiff .wma .m3u .au".split(" "),e=".woff .ttf .woff2 .eot .otf .svg".split(" "),g=aa(a,".",
1),g="."+g.toLowerCase();return 1==b?-1<c.indexOf(g)?'<div class="material-icons">photo</div>':-1<d.indexOf(g)?'<div class="material-icons">volume_up</div>':-1<e.indexOf(g)?'<div class="material-icons">text_format</div>':'<div class="material-icons">insert_drive_file</div>':-1<c.indexOf(g)?"photo":-1<d.indexOf(g)?"volume_up":-1<e.indexOf(g)?"text_format":"insert_drive_file"}function $a(a){var b=jQuery.grep(k,function(b){return-1<b.entry.fullPath.indexOf(a.fullPath)}),c=jQuery.grep(n,function(b){return-1<
b.entry.fullPath.indexOf(a.fullPath)});if(0!==b.length)for(var d=0;d<b.length;d++)k.splice(k.indexOf(b[d]),1);if(0!==c.length)for(b=0;b<c.length;b++)n.splice(n.indexOf(c[b]),1)}function Oa(a){var b=a.createReader();(function(){b.readEntries(function(a){for(var b=0;b<a.length;b++){var c=a[b];c.isDirectory?(k.push({entry:c}),Oa(c)):n.push({entry:c})}})})()}function ab(a,b,c){$(a+" div:not(.material-icons)").each(function(a){a=$(this).attr("path");$(this).attr("path",a.replace(b,c));if($(this).hasClass("file")){var d=
$(this).clone().children().remove().end().text();da(d,a)&&$(".tab").eq(M).attr("path",a.replace(b,c))}})}function Pa(a,b,c,d,e,g){a.getFile(b,{},function(b){b.moveTo(a,c,function(a){var b=y(a.name),f=la(a.name,!1);e.attr("class",b+" file");e.attr("path",a.fullPath);e.find(".material-icons").first().text(f);e.get(0).childNodes[1].nodeValue=a.name;d.entry=a;g&&(b=M,f=a.fullPath,$(".tab").eq(b).find(".title").val(c),$(".tab").eq(b).attr("path",f),$(".tab").eq(b).attr("data",c+"isOpen"),w[M]=a,Z())})})}
function da(a,b){for(var c=0;c<$(".tab").length;c++)if($(".tab").eq(c).attr("path")==b&&$(".tab").eq(c).find(".title").val()==a)return M=c,!0}function W(a){$(".active .title").val(a)}function sa(){return $(".active .title").val()}function X(a){$(".active").attr("data",a)}function ta(a){a?chrome.fileSystem.getWritableEntry(a,function(a){a.createWriter(function(b){var c=f[$(".active").index()].getDoc().getValue(),e=new Blob([c]),g=!1;b.onwriteend=function(a){g||(g=!0,this.truncate(e.size))};b.write(e);
b=a.name;W(b);w[$(".active").index()]=a;void 0!==$(".active").attr("data")&&!1!==$(".active").attr("data")&&""!==$(".active").attr("data")||X(b);$(".active .close").text("close");$(".active .close").removeClass("edit");$(".active").click();!0===ua&&(Y(va),ua=!1)})}):console.log("User cancelled saving.")}function Z(){var a=sa(),b,c,d;if(b=/.+\.([^.]+)$/.exec(a)){if(b=CodeMirror.findModeByExtension(b[1]))c=b.mode,d=b.mime}else if(/\//.test(a)){if(b=CodeMirror.findModeByMIME(a))c=b.mode,d=a}else c=d=
a;c&&(f[$(".active").index()].setOption("mode",d),CodeMirror.autoLoadMode(f[$(".active").index()],c))}function K(){var a=$(".tabs").width(),b=$(".tab").length,a=a/b;200<a&&(a=200);$(".tab").css({width:a+"px"})}function bb(){$(".windowBar").stop().animate({marginTop:"-30px"},200,function(){$(this).hide()});$(".tabs, .sidebar, .overflow-menu").css({marginTop:"0"});$(".menu").css("margin-top","15px");$(".sidebar").css("height","100%");$(".search-container").is(":visible")?$(".workspace").css("height",
"calc(100% - 150px)"):$(".workspace").css("height","calc(100% - 50px)");$(".workspace").css("margin-top","50px")}function wa(a){xa=[];ya=[];za=[];for(var b=0;b<$(".tab").length;b++){var c=b,d=f[c].getValue(),e=$(".tab").eq(c).find(".material-icons").text(),g=c;ya[c]=d;xa[c]={name:$(".tab").eq(c).find(".title").val(),path:$(".tab").eq(c).attr("path"),dataAttr:$(".tab").eq(c).attr("data")};za[c]=e;c=$(".active").index();d=$(".sidebar").width();if(g===$(".tab").length-1){chrome.storage.local.set({data:ya,
tabs:xa,state:za,inst:Qa,actv:c,sideBarWidth:d});var t=[];w.forEach(function(a,b){if(""!==a&&void 0!==a){var c=chrome.fileSystem.retainEntry(a);t.push({index:b,entry:c})}});g=void 0===L||null===L?"":chrome.fileSystem.retainEntry(L);chrome.storage.local.set({chosenFiles:t,chosenDirs:q,chosenDir:g})}}a&&a()}function Aa(a){$(".sidebar").width(a);$(".tabs").width($(window).width()-70-a);$(".workspace").width($(window).width()-a);$(".search-container").width($(window).width()-a)}function Ba(){if(launchData&&
launchData.items)for(var a=0;a<launchData.items.length;a++){var b=[];b.push(launchData.items[a].entry);T(b,!1)}}function cb(){chrome.app.window.current().close()}var Ra="Please wait...a few bits tried to escape, but we caught them;Please wait...and dream of faster computers;Please wait...would you like fries with that?;Please wait...checking the gravitational constant in your locale;Please wait...go ahead -- hold your breath;Please wait...at least you're not on hold;Please wait...hum something loud while others stare;Please wait...you're not in Kansas any more;Please wait...the server is powered by a lemon and two electrodes;Please wait...we love you just the way you are;Please wait...while a larger software vendor in Seattle takes over the world;Please wait...we're testing your patience;Please wait...as if you had any other choice;Please wait...take a moment to sign up for our lovely prizes;Please wait...don't think of purple hippos;Please wait...follow the white rabbit;Please wait...why don't you order a sandwich?;Please wait...programming the flux capacitor;Please wait...the bits are breeding".split(";");
$(".loading-text").text(Ra[Math.round(Math.random()*(Ra.length-1))]);(function(a){chrome.storage.local.get({data:"textArray",tabs:"tabArray",state:"editArray",inst:"installed",actv:"activeIndex",sideBarWidth:"sideWidth"},function(a){var b=a.data,d=a.tabs,e=a.state,g=a.inst,t=a.actv;a=a.sideBarWidth;var k=Math.ceil(501*Math.random()+1800)*Math.log(8*JSON.stringify(b).length)/8;if("textArray"==b||"tabArray"==d||"editArray"==e||"activeIndex"==t||"installed"==g||"sideWidth"==a)p={theme:"material",font:"monospace",
fontSize:"14px",tabSize:4,softWrap:!0,library:"jquery.min.js"},Ka(),H(p),Aa(250),setTimeout(function(){Ba();K();Da();setTimeout(function(){$(".started-content").stop().animate({top:"50%",opacity:"1"},800)},200)},1E3);else for(!0===g&&$(".getting-started").remove(),g=0;g<b.length;g++)V(),f[g]=CodeMirror.fromTextArea(document.getElementById("textarea"+Number($(".tabs").children().last().attr("id").replace("tab",""))),m),f[g].getDoc().setValue(b[g]),f[g].getDoc().clearHistory(),U(g),$(".tab").eq(g).find(".title").val(d[g].name),
$(".tab").eq(g).attr("data",d[g].dataAttr),$(".tab").eq(g).attr("path",d[g].path),""===$(".tab").eq(g).attr("data")&&(w[g]=""),"fiber_manual_record"==e[g]&&$(".tab").eq(g).find(".material-icons").addClass("edit"),$(".tab").eq(g).find(".material-icons").text(e[g]),b.length-1===g&&(chrome.storage.local.get({chosenFiles:"key",chosenDirs:"rootDirs",chosenDir:"newProjectDir"},function(a){var b=a.chosenFiles,c=a.chosenDirs,d=a.chosenDir;"key"!=b&&b.forEach(function(a,b,c){chrome.fileSystem.isRestorable(a.entry,
function(b){chrome.fileSystem.restoreEntry(a.entry,function(b){w[a.index]=b})})});"newProjectDir"!=d&&""!=d&&chrome.fileSystem.isRestorable(d,function(a){chrome.fileSystem.restoreEntry(d,function(a){ja(a)})});"rootDirs"!=c&&(u=document.createDocumentFragment(),c.forEach(function(a,b,c){chrome.fileSystem.isRestorable(a,function(b){chrome.fileSystem.restoreEntry(a,function(a){q.push(chrome.fileSystem.retainEntry(a));ha(a)})})}))}),Aa(a),setTimeout(function(){Ba();$(".projects").append(u.children);ka();
$(".tab").eq(t).click();Va();K();Da()},k))})})(launchData);$(".windowBar").initializeWindowBar("#000000");$(".menu, .dropdown, .settings-container, .bg, .dialogue, .search-container, .contextmenu, .folder-contextmenu, .remove-dialogue, .folder-remove-dialogue, .new-file-dialogue, .new-folder-dialogue, .new-project-dialogue, .rename-folder-dialogue, .rename-file-dialogue, .settingdiv span").hide();var f=[],w=[],ya=[],xa=[],za=[],n=[],k=[],q=[],p,ga,ea,va,Qa,u,v,N,l,O,m={lineNumbers:!0,lineWrapping:!0,
styleActiveLine:!1,matchBrackets:!0,autoCloseTags:!0,autoCloseBrackets:!0,tabSize:4,indentUnit:4,foldGutter:!0,dragDrop:!1,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],theme:"material",mode:"text/plain"};$(document).on("click",".selector-container",function(){var a=$(this).attr("class").split(" "),a=a[a.length-1],a=a.replace("selector-","");B($(".dropdown-"+a));"arrow_drop_down"==$(this).find(".material-icons").text()?$(this).find(".material-icons").text("arrow_drop_up"):$(this).find(".material-icons").text("arrow_drop_down")});
$(".settings").scroll(function(){0!==$(this).scrollTop()?$(".top-title").css("box-shadow","0px 5px 9px 0px rgba(0,0,0,0.1)"):$(".top-title").css("box-shadow","none")});$(document).on("click",".dropdown .theme",function(){var a=$(this).text().replace(/ /g,"-");$(".active").attr("class","tab active active-"+a);J($(".selector-theme"),$(this).text());I("theme",a);m.theme=a;a=$(".CodeMirror").css("background-color");Ea(a);Fa(a);B($(this).parent());F()});String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+
this.slice(1)};$(document).on("click",".dropdown .font-fam",function(){var a=$(this).text().capitalizeFirstLetter();J($(".selector-font"),$(this).text());$(".CodeMirror").css("font-family",a);A();B($(this).parent());F()});$(document).on("click",".dropdown .font-size",function(){var a=$(this).text();J($(".selector-font-size"),a);$(".CodeMirror").css("font-size",a);A();B($(this).parent());F()});$(document).on("click",".dropdown .tab-size",function(){var a=Number($(this).text());J($(".selector-tab-size"),
a);I("tabSize",a);m.tabSize=a;m.indentUnit=a;A();B($(this).parent());F()});$(document).on("click",".dropdown .wrap",function(){var a=$(this).text(),a="none"==a?!1:!0;J($(".selector-wrap"),a);I("lineWrapping",a);m.lineWrapping=a;A();B($(this).parent());F()});$(document).on("click",".dropdown .library",function(){var a=$(this).text(),b;b="folder_open"==h.find(".material-icons").first().text()?h:h.parent().parent();var c=[];B($(this).parent());if(b)if(b.clone().children().remove().end().text(),b.children().last().children().each(function(){var a=
$(this).clone().children().remove().end().text();c.push(a)}),navigator.onLine)if(-1<c.indexOf(a))$(".settingdiv span").text(a+" already exists."),$(".settingdiv span").show();else{J($(".selector-library"),a);switch(a){case "jquery.min.js":C("https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js",a);break;case "angular.min.js":C("https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js",a);break;case "backbone.min.js":C("https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js",
a);break;case "ember.min.js":C("https://cdnjs.cloudflare.com/ajax/libs/ember.js/2.11.2/ember.min.js",a);break;case "react.min.js":C("https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react.min.js",a);break;case "react-dom.min.js":C("https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react-dom.min.js",a);break;case "three.min.js":C("https://cdnjs.cloudflare.com/ajax/libs/three.js/84/three.min.js",a)}$(".settingdiv span").hide()}else $(".settingdiv span").show();else $(".settingdiv span").text("No folder selected. Click on the folder you wish to add "+
a+" to in the projects section."),$(".settingdiv span").show()});$(".close-settings").click(function(){fa();f[$(".active").index()].focus()});$(".bg").click(function(){$(".dialogue").is(":visible")&&R();$(".remove-dialogue").is(":visible")&&ma();$(".folder-remove-dialogue").is(":visible")&&na();$(".new-file-dialogue").is(":visible")&&oa();$(".new-folder-dialogue").is(":visible")&&pa();$(".new-project-dialogue").is(":visible")&&ia();$(".rename-file-dialogue").is(":visible")&&qa();$(".rename-folder-dialogue").is(":visible")&&
ra();$(".settings-container").is(":visible")&&fa();f[$(".active").index()].focus()});$(".settings-button").click(function(){Ha()});$(document).on("click",".CodeMirror",function(a){""===$(".active .title").val()&&$(".active .title").val("untitled.txt");S()});Array.prototype.move=function(a,b){if(b>=this.length)for(var c=b-this.length;c--+1;)this.push(void 0);this.splice(b,0,this.splice(a,1)[0])};$(".tabs").sortable({axis:"x",distance:20,tolerance:"pointer",revert:!0,start:function(a,b){a.stopImmediatePropagation();
a.stopPropagation();$(this).attr("data-previndex",b.item.index());$(this).addClass("noclick")},stop:function(a,b){a.stopImmediatePropagation();a.stopPropagation();var c=b.item.index(),d=$(this).attr("data-previndex"),e=b.item.attr("id").replace("tab",""),g=$(".workspace > textarea").eq(c).attr("id").replace("textarea","");$(this).removeAttr("data-previndex");d>c?($("#textarea"+e).insertBefore($("#textarea"+g)),$(".CodeMirror").eq(d).insertBefore($("#textarea"+g))):($(".CodeMirror").eq(d).insertAfter($(".CodeMirror").eq(c)),
$("#textarea"+e).insertBefore($(".CodeMirror").eq(c)));f.move(d,c);w.move(d,c);A();f[$(".active").index()].focus()}}).disableSelection();$(document).on("click",".tab",function(a){a.stopPropagation();if($(this).hasClass("noclick"))$(this).removeClass("noClick");else{var b,c,d=$(this);0===d.find(".ink").length&&d.prepend('<div class="ink"></div>');b=d.find(".ink");b.removeClass("animate");b.height()||b.width()||(c=Math.max(d.width(),d.height()),b.css({height:c,width:c}));c=a.pageX-d.offset().left-b.width()/
2;a=a.pageY-d.offset().top-b.height()/2;b.css({top:a+"px",left:c+"px"}).addClass("animate");$(".tab").removeClass("active");$(".tab").removeClass("active-"+m.theme);$(this).addClass("active");$(this).addClass("active-"+m.theme);$(".CodeMirror").hide();$(".CodeMirror").eq($(".active").index()).show();Z();ea=w[$(this).index()];f[$(".active").index()].refresh();f[$(".active").index()].focus()}});$(".buttons-dialogue .cancel").click(function(){R();f[$(".active").index()].focus()});$(".buttons-dialogue .no").click(function(){Y(va);
R()});var ua;$(".buttons-dialogue .yes").click(function(){ua=!0;$(".save").click();R()});$(document).on("click",".close",function(a){a.stopImmediatePropagation();a.stopPropagation();if("fiber_manual_record"==$(this).text()){a=$(this);S();var b=$(".active .title").val();$(".dialogue .dialogue-text").text(b+" has been modified. Unless saved, progress will be lost. Save changes?");$(".dialogue").show().stop().animate({top:"50%",opacity:"1"},200);$(".bg").show().stop().animate({opacity:"0.6"},200);va=
a}else Y($(this))});$(document).on("change",".title",function(a){Z()});$(document).on("keyup",".title",function(a){13==a.keyCode&&(""===$(this).val()&&$(this).val("untitled.txt"),f[$(".active").index()].focus())});$(document).on("keydown",".title",function(a){65==a.keyCode&&a.ctrlKey&&a.target.select();9==a.keyCode&&""===$(this).val()&&$(this).val("untitled.txt")});var Ca,Sa;$(".search-bar").on("keyup focus",function(){v=$(".search-bar").val();l=f[$(".active").index()];O=getSearchState(l);var a=getSearchCursor(l,
v,l.getCursor("from"));startSearch(l,O,v);0===Ca?(a.findNext(),l.scrollIntoView({from:a.from(),to:a.to()},100,function(){clearTimeout(Sa);Sa=setTimeout(function(){0===$(".cm-searching").length&&""!==v?$(".search-bar").css("box-shadow","inset 0px -1px 0px 0px rgba(239, 37, 37, 0.58)"):$(".search-bar").css("box-shadow","inset 0px -1px 0px 0px rgba(0, 0, 0, 0.1)")},20)}),Ca=1):Ca=0});$(".find_next").click(function(){v=$(".search-bar").val();l=f[$(".active").index()];O=getSearchState(l);startSearch(l,
O,v);doSearch(l,!1)});$(".find_prev").click(function(){v=$(".search-bar").val();l=f[$(".active").index()];O=getSearchState(l);startSearch(l,O,v);doSearch(l,!0)});$(".replace_all").click(function(){v=$(".search-bar").val();N=$(".search-replace").val();l=f[$(".active").index()];replaceAll(l,v,N)});$(".replace").click(function(){N=$(".search-bar").val();v=$(".search-replace").val();l=f[$(".active").index()];var a=getSearchCursor(l,N,l.getCursor("from"));(function(){var b=a.from(),c;if(!(c=a.findNext())&&
(a=getSearchCursor(l,N),!(c=a.findNext())||b&&a.from().line==b.line&&a.from().ch==b.ch))return;l.setSelection(a.from(),a.to());l.scrollIntoView({from:a.from(),to:a.to()});(function(b){a.replace("string"==typeof N?v:v.replace(/\$(\d)/g,function(a,c){return b[c]}))})(c)})()});$(document).bind("keydown",function(a){(a.ctrlKey&&83==a.keyCode&&!a.shiftKey||a.metaKey&&83==a.keyCode&&!a.shiftKey)&&$(".save").click();(a.ctrlKey&&a.shiftKey&&83==a.keyCode||a.metaKey&&a.shiftKey&&83==a.keyCode)&&$(".save-as").click();
if(a.ctrlKey&&78==a.keyCode||a.metaKey&&78==a.keyCode)a.preventDefault(),$(".new").click();(a.ctrlKey&&79==a.keyCode||a.metaKey&&79==a.keyCode)&&$(".open").click();if(a.ctrlKey&&80==a.keyCode||a.metaKey&&80==a.keyCode)$(".settings-container").is(":visible")?fa():Ha();if(a.ctrlKey&&70==a.keyCode||a.metaKey&&70==a.keyCode)$(".search-container").is(":visible")&&""===window.getSelection()?La():Wa();if(a.ctrlKey&&87==a.keyCode||a.metaKey&&87==a.keyCode)a.preventDefault(),$(".active .close").click();27==
a.keyCode&&(chrome.app.window.current().isFullscreen()&&a.preventDefault(),$(".search-container").is(":visible")&&La())});$(".overflow-menu").click(function(){$(".menu").show().stop().animate({opacity:"1",height:"360px"},200)});$(".menu-li").click(function(){S()});$(document).on("click",".workspace, .tab, .tabs, .sidebar",function(){S()});$(document).on("click",".title",function(a){a.stopPropagation();S()});$(".new").click(function(){V();var a=$(".active").index();f[a]=CodeMirror.fromTextArea(document.getElementById("textarea"+
Number($(".tabs").children().last().attr("id").replace("tab",""))),m);void 0===p&&(p={theme:"material",font:"monospace",fontSize:"14px",tabSize:4,softWrap:!0,library:"jquery.min.js"});H(p);setTimeout(function(){f[a].focus();U(a)},1)});$(".open").click(function(){chrome.fileSystem.chooseEntry({acceptsMultiple:!0},function(a){a||console.log("No Files Selected");T(a,!1)})});$(".sidebar").resizable({handles:"e",maxWidth:400,resize:function(a,b){var c=b.size.width;$(".tabs").width($(window).width()-70-
c);$(".workspace").width($(window).width()-c);$(".search-container").width($(window).width()-c);K()}});$(".add-newproject").click(function(){$(".new-project-dialogue").show().stop().animate({top:"50%",opacity:"1"},200);$(".bg").show().stop().animate({opacity:"0.6"},200);$(".new-project-dialogue input").css("box-shadow","0px 1px 0px 0px #47bfa1");$(".new-project-dialogue input").val("");$(".new-project-dialogue input").focus()});$(".new-project-cancel").click(function(){ia();f[$(".active").index()].focus()});
var L;$(".projects").scroll(function(){D();ba()});$(".chooseDir").click(function(){chrome.fileSystem.chooseEntry({type:"openDirectory"},function(a){a?(ja(a),$(".new-project-input").focus()):ja("No Directory Chosen")})});$(".new-project-create").click(function(){var a=$(this).parent().parent().find("input").val();""===a&&(a="untitled");L.getDirectory(a,{create:!0,exclusive:!0},function(a){q.push(chrome.fileSystem.retainEntry(a));k.push({entry:a});var b=document.createElement("div"),d=a.name,d=y(d);
b.className=d+" folder";b.setAttribute("path",a.fullPath);b.innerHTML='<div class="material-icons">book</div>'+a.name+'<ul class="'+d+'ul"></ul>';$(".projects").append(b);$(".projects").children().last().children().last().hide();ia();f[$(".active").index()].focus()})});$(document).on("keyup",".dialog-input:not(.rename-file-input, .rename-folder-input)",function(a){var b=$(this).val();""===b&&(b="untitled");var c=[];$(this).hasClass("new-project-input")?($(".projects").children().each(function(a){c.push($(this).clone().children().remove().end().text())}),
13==a.keyCode&&$(".new-project-create").click()):h.children().last().children().each(function(a){c.push($(this).clone().children().remove().end().text())});-1<c.indexOf(b)?$(this).css("box-shadow","0px 1px 0px 0px #d61f1f "):$(this).css("box-shadow","0px 1px 0px 0px #47bfa1")});u=document.createDocumentFragment();$(".open-dir").click(function(){chrome.fileSystem.chooseEntry({type:"openDirectory"},function(a){if(a){var b;if(0===q.length)q.push(chrome.fileSystem.retainEntry(a)),Ma(a.name,Ya,a);else for(var c=
0;c<q.length;c++)chrome.fileSystem.restoreEntry(q[c],function(c){c.fullPath==a.fullPath&&(b=!0)}),c===q.length-1&&1!=b&&(q.push(chrome.fileSystem.retainEntry(a)),Ma(a.name),u.innerHTML="",ha(a),setTimeout(function(){$(".projects").append(u.children);ka();Na()},1E3))}else console.log("No Directory Selected")})});$(document).on("click",".projects .folder",function(a){a.stopPropagation();$(this).children("ul").is(":visible")?($(this).children("ul").hide(),"book"==$(this).children().closest(".material-icons").text()?
$(this).children().closest(".material-icons").text("book"):"folder_open"==$(this).children().closest(".material-icons").text()&&$(this).children().closest(".material-icons").text("folder"),$(this).css("color","rgba(255,255,255,0.8)")):($(this).children("ul").show(),"book"==$(this).children().closest(".material-icons").text()?$(this).children().closest(".material-icons").text("book"):"folder"==$(this).children().closest(".material-icons").text()&&$(this).children().closest(".material-icons").text("folder_open"),
$(this).css("color","#FFFFFF"));h=$(this)});$(document).on("click",".projects ul",function(a){a.stopPropagation();a.stopImmediatePropagation()});var r;$(document).on("click",".projects .file",function(a){a.preventDefault();a.stopImmediatePropagation();a.stopPropagation();if(!0!==a.handled){a.handled=!0;a=[];var b=$(this).clone().children().remove().end().text(),c=$(this).attr("path");r=n.find(function(a){if(a.entry.name==b&&a.entry.fullPath==c)return a});r=r.entry;!0===da(b,c)?$(".tab").eq(M).click():
(a.push(r),T(a,!0))}D()});var E,P,Q,Ta,x,z,h,Ua;$(document).on("contextmenu",".projects .file",function(a){a.stopPropagation();a.preventDefault();E=Ta=$(this).clone().children().remove().end().text();P=$(this).attr("path");Q=$(this);var b=a.pageY;a=a.pageX;var c=$(".contextmenu").height();b+c>$(window).height()&&(b-=c);$(".contextmenu").show().css({top:b+"px",left:a-20+"px",backgroundColor:G($(".sidebar").css("background-color"),-.2)}).stop().animate({opacity:"1"},200)});$(".folder-contextmenu .folder-rename").click(function(){$(".rename-folder-dialogue").show().stop().animate({top:"50%",
opacity:"1"},200);$(".bg").show().stop().animate({opacity:"0.6"},200);D();ca(".rename-folder-input",x)});$(".rename-folder-cancel").click(function(){ra();f[$(".active").index()].focus()});$(".rename-folder-create").click(function(){var a=$(".rename-folder-input").val();""==a&&(a=x);var b=[];h.parent().children().each(function(a){a=$(this).clone().children().remove().end().text();a!=x&&b.push(a)});if(-1<b.indexOf(a))$(".rename-folder-input").css("box-shadow","0px 1px 0px 0px #d61f1f"),$(".rename-folder-input").focus();
else{var c=k.find(function(a){if(a.entry.name==x&&a.entry.fullPath==z)return a}),c=c.entry,d=k.findIndex(function(a){return a.entry.name==x&&a.entry.fullPath==z});c.getParent(function(b){c.moveTo(b,a,function(b){var e=b.name,e=y(e);k[d]={entry:b};h.attr("class",e+" folder");h.attr("path",b.fullPath);h.children().last().attr("class",e+"ul");h.get(0).childNodes[1].nodeValue=a;$a(c);Oa(b);ab("."+e+"ul",c.name,b.name);ra();f[$(".active").index()].focus()})})}});$(".contextmenu .rename").click(function(){$(".rename-file-dialogue").show().stop().animate({top:"50%",
opacity:"1"},200);$(".bg").show().stop().animate({opacity:"0.6"},200);D();ca(".rename-file-input",E)});$(".rename-file-create").click(function(){function a(a){if(a.entry.name==E&&a.entry.fullPath==P)return a}var b=$(this).parent().parent().find("input").val(),c=n.find(a).entry.name;""==b&&(b=c);var d=[];Q.parent().children().each(function(a){a=$(this).clone().children().remove().end().text();a!=c&&d.push(a)});if(-1<d.indexOf(b))$(this).parent().parent().find("input").css("box-shadow","0px 1px 0px 0px #d61f1f "),
$(".rename-file-input").focus();else{var e=aa(P,"/",2),g=P.split("/");g.splice(g.length-1,1);var g=g.join("/"),h=k.find(function(a){if(a.entry.name==e&&a.entry.fullPath==g)return a}),h=h.entry;r=n.find(a);!0===da(E,r.entry.fullPath)?Pa(h,r.entry.name,b,r,Q,!0):Pa(h,r.entry.name,b,r,Q,!1);qa();f[$(".active").index()].focus()}});$(".rename-file-cancel").click(function(){qa();f[$(".active").index()].focus()});$(".contextmenu .remove").click(function(){$(".remove-dialogue .remove-dialogue-text").text("Are you sure you want to remove "+
Ta+"? This action cannot be undone.");$(".remove-dialogue").show().stop().animate({top:"50%",opacity:"1"},200);$(".bg").show().stop().animate({opacity:"0.6"},200);D()});$(document).on("contextmenu",".projects .folder",function(a){a.stopPropagation();a.preventDefault();x=Ua=$(this).clone().children().remove().end().text();z=$(this).attr("path");h=$(this);Za(a);var b=[];$(".projects").children().each(function(){b.push($(this).attr("path"))});-1<b.indexOf(z)?($(".folder-contextmenu .folder-rename").hide(),
$(".folder-contextmenu .folder-removefromproject").show()):($(".folder-contextmenu .folder-rename").show(),$(".folder-contextmenu .folder-removefromproject").hide())});$(document).on("keyup",".new-folder-dialogue input",function(a){a.stopPropagation();13==a.keyCode&&$(".new-folder-create").click()});$(document).on("keyup",".new-file-dialogue input",function(a){a.stopPropagation();13==a.keyCode&&$(".new-file-create").click()});$(document).on("keyup",".rename-file-input",function(a){a.stopPropagation();
var b=$(this).val(),c=n.find(function(a){if(a.entry.name==E&&a.entry.fullPath==P)return a}).entry.name;""==b&&(b=c);var d=[];Q.parent().children().each(function(a){a=$(this).clone().children().remove().end().text();a!=c&&d.push(a)});-1<d.indexOf(b)?$(this).css("box-shadow","0px 1px 0px 0px #d61f1f "):$(this).css("box-shadow","0px 1px 0px 0px #47bfa1");13==a.keyCode&&$(".rename-file-create").click()});$(document).on("keyup",".rename-folder-input",function(a){a.stopPropagation();var b=$(this).val(),
c=k.find(function(a){if(a.entry.name==x&&a.entry.fullPath==z)return a}).entry.name;""==b&&(b=c);var d=[];h.parent().children().each(function(a){a=$(this).clone().children().remove().end().text();a!=c&&d.push(a)});-1<d.indexOf(b)?$(this).css("box-shadow","0px 1px 0px 0px #d61f1f "):$(this).css("box-shadow","0px 1px 0px 0px #47bfa1");13==a.keyCode&&$(".rename-folder-create").click()});$(".folder-contextmenu .folder-removefromproject").click(function(){for(var a=k.find(function(a){if(a.entry.name==x&&
a.entry.fullPath==z)return a}),a=a.entry,b,c=0;c<q.length;c++)chrome.fileSystem.restoreEntry(q[c],function(d){d.fullPath==a.fullPath&&(q.splice(c,1),b=!0)});b&&(h.velocity("slideUp",{duration:200,complete:function(){$(this).remove()}}),f[$(".active").index()].focus())});$(".folder-contextmenu .folder-addfolder").click(function(){$(".new-folder-dialogue").show().stop().animate({top:"50%",opacity:"1"},200);$(".bg").show().stop().animate({opacity:"0.6"},200);ba();ca(".new-folder-input","")});$(".new-folder-create").click(function(){var a=
$(this).parent().parent().find("input").val();""===a&&(a="untitled");var b=[];h.children().last().children().each(function(a){b.push($(this).clone().children().remove().end().text())});if(-1<b.indexOf(a))$(".new-folder-input").css("box-shadow","0px 1px 0px 0px #d61f1f "),$(".new-folder-input").focus();else{var c=k.find(function(a){if(a.entry.name==x&&a.entry.fullPath==z)return a}),c=c.entry;c.getDirectory(a,{create:!0,exclusive:!0},function(a){k.push({entry:a});var b=a.name,b=y(b),c=document.createElement("div");
c.className=b+" folder";c.setAttribute("path",a.fullPath);c.innerHTML='<div class="material-icons">folder</div>'+a.name+'<ul class="'+b+'ul"></ul>';h.children().last().append(c);h.children().last().children().last().children().last().hide();h.children().last().children().last().insertBefore(h.children().last().children().first());pa()})}});$(".new-folder-cancel").click(function(){pa();f[$(".active").index()].focus()});$(".folder-contextmenu .folder-remove").click(function(){$(".folder-remove-dialogue .folder-remove-dialogue-text").text("Are you sure you want to remove "+
Ua+"? This will PERMANENTLY delete this folder from your computer.");$(".folder-remove-dialogue").show().stop().animate({top:"50%",opacity:"1"},200);$(".bg").show().stop().animate({opacity:"0.6"},200);ba()});$(".folder-remove-yes").click(function(){for(var a=k.find(function(a){if(a.entry.name==x&&a.entry.fullPath==z)return a}),a=a.entry,b=0;b<q.length;b++)chrome.fileSystem.restoreEntry(q[b],function(c){a.fullPath==c.fullPath&&q.splice(b,1)});a.removeRecursively(function(){h.velocity("slideUp",{duration:200,
complete:function(){$(this).remove()}});na();f[$(".active").index()].focus()})});$(".folder-remove-no").click(function(){na();f[$(".active").index()].focus()});$(".folder-addfile").click(function(){$(".new-file-dialogue").show().stop().animate({top:"50%",opacity:"1"},200);$(".bg").show().stop().animate({opacity:"0.6"},200);D();ca(".new-file-input","")});$(".new-file-cancel").click(function(){oa();f[$(".active").index()].focus()});$(".new-file-create").click(function(){var a=$(this).parent().parent().find("input").val();
""===a&&(a="untitled.txt");var b=[];h.children().last().children().each(function(a){b.push($(this).clone().children().remove().end().text())});if(-1<b.indexOf(a))$(".new-file-input").css("box-shadow","0px 1px 0px 0px #d61f1f"),$(".new-file-input").focus();else{var c=k.find(function(a){if(a.entry.name==x&&a.entry.fullPath==z)return a}),c=c.entry;c.getFile(a,{create:!0,exclusive:!0},function(a){var b=[];b.push(a);T(b,!0);n.push({entry:a});b=a.name;b=y(b);b=b.replace(/\./g,"");ea=a;var c=document.createElement("div"),
d=la(a.name,!0);c.className=b+" file";c.setAttribute("path",a.fullPath);c.innerHTML=d+a.name;h.children().last().append(c);oa()})}});var M;$(".remove-buttons .remove-yes").click(function(){r=n.find(function(a){if(a.entry.name==E&&a.entry.fullPath==P)return a});r=r.entry;!0===da(E,r.fullPath)&&Y($(".tab").eq(M).find(".close"));r.remove(function(){Q.remove();ma();f[$(".active").index()].focus()})});$(".remove-buttons .remove-no").click(function(){ma();f[$(".active").index()].focus()});$(document).on("mousedown",
function(a){a=a.target;$(a).parents().is(".contextmenu")&&$(a).parents().is(".folder-contextmenu")||(D(),ba())});$(".save").click(function(){if(ea=w[$(".active").index()])ta(ea);else{var a=sa();chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:a,acceptsAllTypes:!0},ta)}});$(".save-as").click(function(){var a=sa();chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:a,acceptsAllTypes:!0},ta)});$(".tidy-up").click(function(){var a=f[$(".active").index()].getValue();-1<$(".active .title").val().indexOf(".html")?
a=html_beautify(a,{indent_size:m.tabSize}):-1<$(".active .title").val().indexOf(".css")?a=css_beautify(a,{indent_size:m.tabSize}):($(".active .title").val().indexOf(".js"),a=js_beautify(a,{indent_size:m.tabSize}));f[$(".active").index()].setValue(a)});new DnDFileController("body",function(a){for(var b=[],c=0;c<a.items.length;c++)b.push(a.items[c].webkitGetAsEntry()),c===a.items.length-1&&T(b,!1)});$(window).resize(function(){var a=$(".sidebar").width();Aa(a);K();A();chrome.app.window.current().isFullscreen()?
bb():($(".windowBar").show().stop().animate({marginTop:"0px"},200),$(".tabs, .sidebar, .overflow-menu").css({marginTop:"30px"}),$(".menu").css("margin-top","45px"),$(".sidebar").css("height","calc(100% - 30px)"),$(".search-container").is(":visible")?$(".workspace").css("height","calc(100% - 180px)"):$(".workspace").css("height","calc(100% - 80px)"),$(".workspace").css("margin-top","80px"))});$(".started-button").click(function(){$(".getting-started").stop().animate({top:"-100%",opacity:"0"},400,function(){$(this).remove()});
Qa=!0;wa();f[$(".active").index()].focus()});chrome.runtime.onMessage.addListener(function(a,b,c){a.open&&Ba()});$(document).delegate(".app-windowbar-close","click",function(){wa(cb)});$(window).mouseleave(function(){wa()});$(document).delegate(".app-windowbar-minimize","click",function(){chrome.app.window.current().minimize()});$(document).delegate(".app-windowbar-maximize","click",function(){f[$(".active").index()].focus();chrome.app.window.current().isMaximized()?chrome.app.window.current().restore():
chrome.app.window.current().maximize()})});